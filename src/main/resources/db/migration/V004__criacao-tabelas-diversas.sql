create table tb_restaurante (id int8 generated by default as identity, data_atualizacao timestamp not null, data_cadastro timestamp not null, endereco_bairro varchar(40), endereco_cep varchar(10), endereco_complemento varchar(20), endereco_logradouro varchar(60), endereco_numero varchar(10), nome varchar(60) not null, taxa_frete numeric(7, 2) not null, cozinha_id int8 not null, endereco_cidade_id int8, primary key (id));
alter table if exists tb_restaurante add constraint fk_endereco_cidade foreign key (endereco_cidade_id) references tb_cidade;
alter table if exists tb_restaurante add constraint fk_cozinha foreign key (cozinha_id) references tb_cozinha;
create table tb_forma_pagamento (id int8 generated by default as identity, nome varchar(60) not null, primary key (id));
create table rl_restaurante_forma_pagamento (restaurante_id int8 not null, forma_pagamento_id int8 not null);
create table tb_grupo (id int8 generated by default as identity, nome varchar(60), primary key (id));
create table tb_permissao (id int8 generated by default as identity, descricao varchar(255) not null, nome varchar(60) not null, primary key (id));
create table tb_grupo_permissao (grupo_id int8 not null, persimssao_id int8 not null);
create table tb_produto (id int8 generated by default as identity, ativo boolean not null, descricao varchar(255) not null, nome varchar(60) not null, preco numeric(19, 2) not null, restaurante_id int8 not null, primary key (id));
create table tb_usuario (id int8 generated by default as identity, data_cadastro timestamp, nome varchar(60) not null, senha varchar(100) not null, primary key (id));
create table tb_usuario_grupo (usuario_id int8 not null, grupo_id int8 not null);
alter table if exists rl_restaurante_forma_pagamento add constraint fk_forma_pagamento foreign key (forma_pagamento_id) references tb_forma_pagamento;
alter table if exists rl_restaurante_forma_pagamento add constraint fk_restaurante foreign key (restaurante_id) references tb_restaurante;
alter table if exists tb_grupo_permissao add constraint fk_permissao foreign key (persimssao_id) references tb_permissao;
alter table if exists tb_grupo_permissao add constraint fk_grupo foreign key (grupo_id) references tb_grupo;
alter table if exists tb_produto add constraint fk_restaurante foreign key (restaurante_id) references tb_restaurante;
alter table if exists tb_usuario_grupo add constraint fk_grupo foreign key (grupo_id) references tb_grupo;
alter table if exists tb_usuario_grupo add constraint fk_usuario foreign key (usuario_id) references tb_usuario;